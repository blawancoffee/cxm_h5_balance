(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{e6lX:function(t,e,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("IzEo");var r=n(a("bx4M"));a("+L6B");var o=n(a("2/Rp")),d=n(a("lwsE")),i=n(a("W8MJ")),u=n(a("a1gu")),c=n(a("Nsbk")),s=n(a("7W2i"));a("g9YV");var f,m,h=n(a("wCAj")),p=l(a("q1tI")),g=a("MuoO"),v=n(a("usdK")),x=n(a("d3jC")),b=l(a("+n12")),E=(a("cA2t"),a("7cBs")),N=(a("RO9D"),n(a("qwlH"))),y=(h.default.Column,f=(0,g.connect)(function(t){var e=t.batch,a=t.loading;return{batch:e,loading:a.models.list}}),f(m=function(t){function e(t){var a;return(0,d.default)(this,e),a=(0,u.default)(this,(0,c.default)(e).call(this,t)),a.router=function(){v.default.goBack()},a.getExtraContent=function(t){return p.default.createElement("div",{className:x.default.extraContent,style:{display:"flex",height:"40px",lineHeight:"40px"}},p.default.createElement("span",{style:{flex:1}},t),p.default.createElement(o.default,{style:{float:"right",marginRight:"5px",marginTop:"5px"},onClick:a.router},"\u8fd4\u56de"))},a.onRef=function(t){console.log(222,t),a.child=t},a.print=function(t){a.child.print(t)},a.state={loading:!1,name:null,carNo:null},a}return(0,s.default)(e,t),(0,i.default)(e,[{key:"componentDidMount",value:function(){var t=this.props.location.query,e=t.id,a=t.name,n=t.carNo,l=t.startDate,r=l?{batchId:e,startDate:l}:{batchId:e};this.fetchData(r),this.setState({name:a,carNo:n})}},{key:"fetchData",value:function(t){var e=this;this.props.dispatch({type:"batch/fetchBatchData",payload:t}).then(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var t,e=this.props,a=e.batch.batchDataLis,n=(e.loading,this.state),l=n.name,d=n.carNo,i=[],u=[];Array.isArray(a)&&null!=a&&a.length>0&&(t=a[0].createTime,a.map(function(t){var e=t.batchDataList,a=t.createTime,n=t.goodAmount,l=t.saleNumber,r=t.saleWeight;u=u.concat(u,e);var o=[{title:a}],d=[{title:"\u5408\u8ba1",saleNumber:l,saleWeight:r,goodsAmount:n}];i=i.concat(o,e,d)})),console.log(u);var c=this.getExtraContent(t),s={pageSize:20},f=[{title:"",dataIndex:"title",render:function(t,e){var a=e.title;return p.default.createElement("span",{className:void 0!==a?"active":""},void 0!==a?a:"")}},{title:"\u65e5\u671f",dataIndex:"createTime"},{title:"\u54c1\u79cd",dataIndex:"goodsAttrName"},{title:"\u6d41\u6c34\u53f7",dataIndex:"todayNo",render:function(t,e){var a=e.todayNo;return p.default.createElement("span",null,void 0!==a?b.fixedZeroTo4Bit(a,6):"")}},{title:"\u5305\u88c5\u7c7b\u578b",dataIndex:"packType"},{title:"\u4ef6\u6570",dataIndex:"saleNumber"},{title:"\u91cd\u91cf",dataIndex:"saleWeight",render:function(t,e){var a=e.saleWeight;return p.default.createElement("span",null,void 0!==a?(0,E.Yuan)(a,2):null)}},{title:"\u8d27\u6b3e",dataIndex:"goodAmount",render:function(t,e){var a=e.goodsAmount;return p.default.createElement("span",null,void 0!==a?(0,E.Yuan)(a,2):null)}}],m=[{title:"\u54c1\u79cd",dataIndex:"goodsAttrName"},{title:"\u4ef6\u6570",dataIndex:"saleNumber"},{title:"\u91cd\u91cf",dataIndex:"saleWeight",render:function(t,e){var a=e.saleWeight;return p.default.createElement("span",null,void 0!==a?(0,E.Yuan)(a,2):null)}},{title:"\u8d27\u6b3e",dataIndex:"goodAmount",render:function(t,e){var a=e.goodsAmount;return p.default.createElement("span",null,void 0!==a?(0,E.Yuan)(a,2):null)}}];return p.default.createElement("div",{className:x.default.batchLayout},p.default.createElement(r.default,{className:x.default.listCard,bordered:!1,title:"",extra:c},p.default.createElement(o.default,{onClick:this.print.bind(this,Math.ceil(u.length/2))},"\u6253\u5370"),p.default.createElement(h.default,{dataSource:i,columns:f,pagination:s,scroll:{x:800},bordered:!0}),p.default.createElement("div",{className:x.default.fix},p.default.createElement(N.default,{onRef:this.onRef,data:u,columns:m,name:l,carNo:d,type:"col"}))))}}]),e}(p.PureComponent))||m);e.default=y}}]);