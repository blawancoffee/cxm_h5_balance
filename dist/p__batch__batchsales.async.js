(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"4ECH":function(t,e,a){t.exports={content:"content___2oZ_l",title:"title___2nb6-",list:"list___-cd8K"}},HMdV:function(t,e,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("IzEo");var o=n(a("bx4M")),r=n(a("lwsE")),d=n(a("W8MJ")),u=n(a("a1gu")),c=n(a("Nsbk")),i=n(a("7W2i"));a("g9YV");var s,f,m=n(a("wCAj")),h=l(a("q1tI")),p=a("MuoO"),v=n(a("d3jC")),g=a("7cBs"),b=(a("cA2t"),a("RO9D"),n(a("qwlH"))),E=(m.default.Column,s=(0,p.connect)(function(t){var e=t.batch;return{batch:e}}),s(f=function(t){function e(t){var a;return(0,r.default)(this,e),a=(0,u.default)(this,(0,c.default)(e).call(this,t)),a.state={name:null,carNo:null},a}return(0,i.default)(e,t),(0,d.default)(e,[{key:"componentDidMount",value:function(){var t=this.props.location.query,e=t.id,a=t.name,n=t.carNo;this.fetchData({batchId:e}),this.setState({name:a,carNo:n})}},{key:"fetchData",value:function(t){this.props.dispatch({type:"batch/fetchBatchSales",payload:t})}},{key:"render",value:function(){var t=this.props.batch.batchSalesList,e=this.state,a=e.name,n=e.carNo,l=null,r=[{title:"\u65e5\u671f",dataIndex:"date"},{title:"\u54c1\u79cd",dataIndex:"goodsAttrName"},{title:"\u4ef6\u6570",dataIndex:"saleNumber"},{title:"\u91cd\u91cf",dataIndex:"saleWeight"},{title:"\u8d27\u6b3e",dataIndex:"operating",render:function(t,e){var a=e.goodsAmount;return h.default.createElement("span",null,(0,g.Yuan)(a,2))}}],d=[{title:"\u54c1\u79cd",dataIndex:"goodsAttrName"},{title:"\u4ef6\u6570",dataIndex:"saleNumber"},{title:"\u91cd\u91cf",dataIndex:"saleWeight"},{title:"\u8d27\u6b3e",dataIndex:"operating",render:function(t,e){var a=e.goodsAmount;return h.default.createElement("span",null,(0,g.Yuan)(a,2))}}];return h.default.createElement("div",{className:v.default.batchLayout},h.default.createElement(o.default,{className:v.default.listCard,bordered:!1,title:"",extra:l},h.default.createElement("h4",{className:v.default.title},"\u8f66\u6b21\u5217\u8868"),h.default.createElement(m.default,{dataSource:t||[],columns:r,pagination:!1,bordered:!0}),h.default.createElement(b.default,{data:t,columns:d,name:a,carNo:n,type:"col"})))}}]),e}(h.PureComponent))||f);e.default=E},qwlH:function(t,e,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("IzEo");var o=l(a("bx4M"));a("+L6B");var r=l(a("2/Rp")),d=l(a("lwsE")),u=l(a("W8MJ")),c=l(a("a1gu")),i=l(a("Nsbk")),s=l(a("7W2i"));a("g9YV");var f=l(a("wCAj")),m=n(a("q1tI")),h=l(a("wd/R")),p=(l(a("mOP9")),l(a("cLAn"))),v=n(a("+n12")),g=(a("7cBs"),l(a("4ECH"))),b=(f.default.Column,function(t){function e(t){var a;return(0,d.default)(this,e),a=(0,c.default)(this,(0,i.default)(e).call(this,t)),a.print=function(t){for(var e=0;e<t;e++){var n=document.getElementById("app".concat(e));p.default.toPng(n,{width:"576"}).then(function(t){var e=new Image;e.src=t,""!==t&&a._androidToJs(t.split(",")[1])}).catch(function(t){console.error("oops, something went wrong!",t)})}},a._androidToJs=function(t){"undefined"!==typeof androidToJs&&androidToJs.printImgByBase64(t,0,!0)},a.state={short_name:localStorage.getItem("short_name")},a}return(0,s.default)(e,t),(0,u.default)(e,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,e=t.data,a=t.columns,n=t.name,l=t.carNo,d=t.type,u=this.state.short_name,c="col"==d?15:3,i=[];if(e&&!e.length)return!1;if(e.length){for(var s=0;s<Math.ceil(e.length/c);s++)i.push(e.slice(c*s,c*s+c));for(var p=Math.ceil(e.length/3)-1;p>=0;p--);}return console.log(i),m.default.createElement("div",null,m.default.createElement(r.default,{onClick:this.print.bind(this,i.length)},"\u6253\u5370"),i&&i.map(function(t,e){return m.default.createElement(o.default,{id:"app".concat(e),className:g.default.content,bordered:!1,title:"",extra:"",key:e},m.default.createElement("div",{className:g.default.title},"".concat(u,"\u5546\u884c\u6574\u8f66\u660e\u7ec6\u8868")),m.default.createElement("div",{className:g.default.list},m.default.createElement("span",{className:g.default.train},"\u8f66\u6b21\uff1a".concat(n," ").concat(v.fixedZeroTo4Bit(l,4))),m.default.createElement("span",{className:g.default.time},"\u6253\u5370\u65f6\u95f4\uff1a".concat((0,h.default)().format("YYYY-MM-DD")))),m.default.createElement(f.default,{dataSource:t||[],columns:a,pagination:!1,bordered:!0}))}))}}]),e}(m.PureComponent));e.default=b}}]);